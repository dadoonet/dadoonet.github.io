{
  "data": [
    {
      "type": "presentations",
      "id": "pr_6DyIt6",
      "attributes": {
        "title": "Randomized testing: Gotta Catch ‚ÄòEm All",
        "slug": "randomized-testing-gotta-catch-em-all",
        "blurb": {
          "html": "<blockquote>\n<p>Chance does things well.</p>\n</blockquote>\n<p>If we apply this idea to unit tests or integration tests, we can make our tests much more unpredictable ‚Äî and as a result, uncover issues that our minds would never have dared to imagine! For example, I recently discovered a <a href=\"https://github.com/gestalt-config/gestalt/issues/242\" target=\"_blank\" rel=\"noopener\">bug</a> in a configuration management library that occurs when the <code>Locale</code> is set to <code>AZ</code>. ü§¶üèº‚Äç‚ôÇÔ∏è</p>\n<p>Another, even simpler, example:</p>\n<pre><code class=\"language-java\">int input = generateInteger(Integer.MIN_VALUE, Integer.MAX_VALUE);\nint output = Math.abs(input);\n</code></pre>\n<p>This can generate <code>-2147483648</code>‚Ä¶ which is quite unexpected for an absolute value! üòâ<br />\nRandomized tests can uncover these twisted edge cases‚Ä¶ That‚Äôs what the Elasticsearch team has been doing for years using the <a href=\"https://labs.carrotsearch.com/randomizedtesting.html\" target=\"_blank\" rel=\"noopener\">RandomizedTesting</a> framework to test all their Java code.</p>\n<p>Add to that real integration tests using <a href=\"https://java.testcontainers.org/modules/elasticsearch/\" target=\"_blank\" rel=\"noopener\">TestContainers</a>, and you‚Äôll have a complete approach to tests that <em>regularly fail</em>!</p>\n<p>After this talk, you‚Äôll never look at the <code>random()</code> function the same way again ‚Äî and you‚Äôll discover how (bad) luck can actually help you! üçÄ</p>\n"
        },
        "slidedeck": {
          "data": [
            {
              "id": "sd_15734",
              "type": "images",
              "slides": [
                {
                  "id": "sl_89m9yj",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-1.jpg",
                  "html": null
                },
                {
                  "id": "sl_kTUxr8",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Test coverage</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-2.jpg",
                  "html": null
                },
                {
                  "id": "sl_MnDljX",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>https://plugins.jetbrains.com/plugin/3146-infinitest</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-3.jpg",
                  "html": null
                },
                {
                  "id": "sl_z6wZbw",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-4.jpg",
                  "html": null
                },
                {
                  "id": "sl_bQfNUL",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-5.jpg",
                  "html": null
                },
                {
                  "id": "sl_DkOBMk",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-6.jpg",
                  "html": null
                },
                {
                  "id": "sl_q46zF9",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Push code to production\n‚ñ† June 4th 1996 ‚ñ† Original footage from ESA\nhttps://www.esa.int/ESA_Multimedia/Videos/1996/06/Ariane_501_recording_launch_pad_before_and_at_launch</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-7.jpg",
                  "html": null
                },
                {
                  "id": "sl_SNpn7Y",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>public static int generateInteger(int min, int max) { return ThreadLocalRandom.current().nextInt(min, max); } @Test public void testInteger() { int input = generateInteger( Integer.MIN_VALUE, Integer.MAX_VALUE); int output = Math.abs(input); assertThat(output, greaterThanOrEqualTo(0)); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-8.jpg",
                  "html": null
                },
                {
                  "id": "sl_4hYazx",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>int output = Math.abs(input); assertThat(output, greaterThanOrEqualTo(0));</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-9.jpg",
                  "html": null
                },
                {
                  "id": "sl_h1HOsM",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-10.jpg",
                  "html": null
                },
                {
                  "id": "sl_JL0Ckl",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>About Me\nDavid Pilato Developer | Evangelist\nlinkedin.com/in/dadoonet/ @dadoonet https://david.pilato.fr/</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-11.jpg",
                  "html": null
                },
                {
                  "id": "sl_vej0dA",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>01\nThe bug</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-12.png",
                  "html": null
                },
                {
                  "id": "sl_XyRoVZ",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>github.com/dadoonet/fscrawler/</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-13.jpg",
                  "html": null
                },
                {
                  "id": "sl_AIAcNy",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-14.jpg",
                  "html": null
                },
                {
                  "id": "sl_mbtQGN",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>https://github.com/dadoonet/fscrawler/actions/runs/14357866984/job/ 40251514398#step:4:296</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-15.jpg",
                  "html": null
                },
                {
                  "id": "sl_OvcE8m",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Throwable #1: java.lang.NullPointerException: Cannot invoke ‚ÄúElasticsearch.setIndex(String)‚Äù because the return value of ‚ÄúFsSettings.getElasticsearch()‚Äù is null</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-16.png",
                  "html": null
                },
                {
                  "id": "sl_1FL21B",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Throwable #1: java.lang.NullPointerException: Cannot invoke ‚ÄúElasticsearch.setIndex(String)‚Äù because the return value of ‚ÄúFsSettings.getElasticsearch()‚Äù is null\n@Test public void settingsValidation() { FsSettings settings = FsSettingsLoader.load(); settings.getElasticsearch().setIndex(getCurrentTestName()); // ‚Ä¶ }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-17.png",
                  "html": null
                },
                {
                  "id": "sl_dZ3pta",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void settingsValidation() { FsSettings settings = FsSettingsLoader.load(); settings.getElasticsearch().setIndex(getCurrentTestName()); // ‚Ä¶ }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-18.jpg",
                  "html": null
                },
                {
                  "id": "sl_Fsmdlz",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>REPRODUCE WITH: mvn integration-test -Dtests.locale=az Throwable #1: java.lang.NullPointerException: Cannot invoke ‚ÄúElasticsearch.setIndex(String)‚Äù because the return value of ‚ÄúFsSettings.getElasticsearch()‚Äù is null</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-19.png",
                  "html": null
                },
                {
                  "id": "sl_sCVReO",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-20.jpg",
                  "html": null
                },
                {
                  "id": "sl_UWEFWn",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void settingsValidationFr() { Locale.setDefault(new Locale.Builder().setLanguageTag(‚Äúfr‚Äù).build()); FsSettings settings = FsSettingsLoader.load(); settings.getElasticsearch().setIndex(getCurrentTestName()); // ‚Ä¶ } @Test public void settingsValidationAz() { Locale.setDefault(new Locale.Builder().setLanguageTag(‚Äúaz‚Äù).build()); FsSettings settings = FsSettingsLoader.load(); settings.getElasticsearch().setIndex(getCurrentTestName()); // ‚Ä¶ } @Test public void settingsValidationEn() { Locale.setDefault(new Locale.Builder().setLanguageTag(‚Äúen‚Äù).build()); FsSettings settings = FsSettingsLoader.load();</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-21.jpg",
                  "html": null
                },
                {
                  "id": "sl_6px3PC",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-22.jpg",
                  "html": null
                },
                {
                  "id": "sl_j9frHb",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>02\nInstallation</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-23.png",
                  "html": null
                },
                {
                  "id": "sl_LTOfA0",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Installation (pom.xml - Java)\n&lt;dependency&gt; &lt;groupId&gt;com.carrotsearch.randomizedtesting&lt;/groupId&gt; &lt;artifactId&gt;randomizedtesting-runner&lt;/artifactId&gt; &lt;version&gt;2.8.3&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt;</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-24.png",
                  "html": null
                },
                {
                  "id": "sl_xn7T2P",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Deactivate the default test plugin &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;2.19&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;default-test&lt;/id&gt; &lt;phase&gt;none&lt;/phase&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-25.png",
                  "html": null
                },
                {
                  "id": "sl_a6qGuo",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Activate the randomized testing plugin &lt;plugin&gt; &lt;groupId&gt;com.carrotsearch.randomizedtesting&lt;/groupId&gt; &lt;artifactId&gt;junit4-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.8.3&lt;/version&gt; ‚Ä¶ &lt;/plugin&gt;</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-26.png",
                  "html": null
                },
                {
                  "id": "sl_CQZ4nD",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Configure the randomized testing plugin ‚Ä¶ &lt;executions&gt; &lt;execution&gt; &lt;id&gt;unit-tests&lt;/id&gt; &lt;phase&gt;test&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;junit4&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-27.png",
                  "html": null
                },
                {
                  "id": "sl_okHsfc",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Configure the randomized testing plugin ‚Ä¶ &lt;configuration&gt; &lt;heartbeat&gt;10&lt;/heartbeat&gt; &lt;jvmOutputAction&gt;pipe,ignore&lt;/jvmOutputAction&gt; &lt;leaveTemporary&gt;true&lt;/leaveTemporary&gt; &lt;ifNoTests&gt;warn&lt;/ifNoTests&gt; &lt;listeners&gt; &lt;report-text showThrowable=‚Äùtrue‚Äù showStackTraces=‚Äùtrue‚Äù showOutput=‚Äùalways‚Äù showStatusOk=‚Äùtrue‚Äù showStatusError=‚Äùtrue‚Äù showStatusFailure=‚Äùtrue‚Äù showStatusIgnored=‚Äùtrue‚Äù showSuiteSummary=‚Äùtrue‚Äù /&gt; &lt;/listeners&gt; &lt;systemProperties combine.children=‚Äùappend‚Äù&gt; &lt;arg.common&gt;arg.common&lt;/arg.common&gt; &lt;/systemProperties&gt; &lt;/configuration&gt; ‚Ä¶</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-28.png",
                  "html": null
                },
                {
                  "id": "sl_R40gY1",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>03\nUsage</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-29.png",
                  "html": null
                },
                {
                  "id": "sl_3NjUQQ",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-30.jpg",
                  "html": null
                },
                {
                  "id": "sl_fhSIIp",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-31.jpg",
                  "html": null
                },
                {
                  "id": "sl_I1B6BE",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>04\nRandom Spoiler: it‚Äôs not really random</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-32.png",
                  "html": null
                },
                {
                  "id": "sl_uKtu3d",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-33.jpg",
                  "html": null
                },
                {
                  "id": "sl_Wechw2",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void testSeed() { Random generator = new Random(); int num = generator.nextInt(); assertThat(num).isEqualTo(1553932502); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-34.jpg",
                  "html": null
                },
                {
                  "id": "sl_8yLVoR",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void testSeed() { Random generator = new Random(12345L); int num = generator.nextInt(); assertThat(num).isEqualTo(1553932502); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-35.jpg",
                  "html": null
                },
                {
                  "id": "sl_lI4Jgq",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>‚Ä¶ &lt;configuration&gt; &lt;heartbeat&gt;10&lt;/heartbeat&gt; &lt;jvmOutputAction&gt;pipe,ignore&lt;/jvmOutputAction&gt; &lt;leaveTemporary&gt;true&lt;/leaveTemporary&gt; &lt;ifNoTests&gt;warn&lt;/ifNoTests&gt; &lt;listeners&gt; &lt;report-text showThrowable=‚Äùtrue‚Äù showStackTraces=‚Äùtrue‚Äù showOutput=‚Äùalways‚Äù showStatusOk=‚Äùtrue‚Äù showStatusError=‚Äùtrue‚Äù showStatusFailure=‚Äùtrue‚Äù showStatusIgnored=‚Äùtrue‚Äù showSuiteSummary=‚Äùtrue‚Äù /&gt; &lt;/listeners&gt; &lt;seed&gt;${tests.seed}&lt;/seed&gt; &lt;systemProperties combine.children=‚Äùappend‚Äù&gt; &lt;arg.common&gt;arg.common&lt;/arg.common&gt; &lt;/systemProperties&gt; &lt;/configuration&gt; ‚Ä¶</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-36.jpg",
                  "html": null
                },
                {
                  "id": "sl_Nbn7ZF",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>REPRODUCE WITH: mvn integration-test -Dtests.seed=489581FE40712E4A # -Dtests.locale=az -Dtests.timezone=Asia/Ashkhabad</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-37.jpg",
                  "html": null
                },
                {
                  "id": "sl_zvVvRe",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>REPRODUCE WITH: mvn integration-test -Dtests.seed=489581FE40712E4A # -Dtests.locale=az -Dtests.timezone=Asia/Ashkhabad\n@Test @Seed(‚Äú489581FE40712E4A‚Äù) public void settingsValidationForLocaleAz() { // ‚Ä¶ }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-38.jpg",
                  "html": null
                },
                {
                  "id": "sl_cFEjK3",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test @Repeat(iterations = 10) public void repeatMe() { Locale locale = randomLocale(); DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(locale); String format = dateTimeFormatter.format(LocalDate.now()); System.out.println(‚Äúdate is [‚Äù + format + ‚Äú] with locale [‚Äù + locale.toLanguageTag() + ‚Äú]‚Äù); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-39.jpg",
                  "html": null
                },
                {
                  "id": "sl_EYxXCS",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>&lt;properties&gt; &lt;tests.locale&gt;random&lt;/tests.locale&gt; &lt;/properties&gt; &lt;configuration&gt; ‚Ä¶ &lt;systemProperties combine.children=‚Äùappend‚Äù&gt; &lt;arg.common&gt;arg.common&lt;/arg.common&gt; &lt;tests.locale&gt;${tests.locale}&lt;/tests.locale&gt; &lt;/systemProperties&gt; &lt;/configuration&gt;</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-40.png",
                  "html": null
                },
                {
                  "id": "sl_qsgL4r",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>private static final Locale savedLocale = Locale.getDefault(); @BeforeClass public static void setLocale() { String testLocale = System.getProperty(‚Äútests.locale‚Äù, ‚Äúrandom‚Äù); Locale locale = testLocale.equals(‚Äúrandom‚Äù) ? randomLocale() : new Locale.Builder().setLanguageTag(testLocale).build(); Locale.setDefault(locale); } @AfterClass public static void resetLocale() { Locale.setDefault(savedLocale); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-41.png",
                  "html": null
                },
                {
                  "id": "sl_TCP8xG",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void withLocale() { DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL); String format = dateTimeFormatter.format(LocalDate.now()); System.out.println(‚Äúlocale = ‚Äù + Locale.getDefault().toLanguageTag()); System.out.println(‚Äúformat = ‚Äù + format); } # RUN 1 locale = es-PR format = mi√©rcoles 9 de marzo de 2016 # RUN 2 locale = tr-TR format = 09 Mart 2016 √áar≈üamba</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-42.png",
                  "html": null
                },
                {
                  "id": "sl_5W7wpf",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>mvn test -Dtests.locale=fr-FR 1&gt; locale = fr-FR 1&gt; format = mercredi 9 mars 2016</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-43.png",
                  "html": null
                },
                {
                  "id": "sl_hpqki4",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void sometimes() { int bulkSize = randomIntBetween(500, 1000); for (int i = 0; i &lt; bulkSize; i++) { addDocument(‚Äúenglish_‚Äù + i, generatePerson()); if (frequently()) { addDocument(‚Äúfrench_‚Äù + i, generatePerson()); } if (rarely()) { // Shutdown Node 1 shutdownNode(1); } } }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-44.png",
                  "html": null
                },
                {
                  "id": "sl_K9ZYaT",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>05\nBut also</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-45.png",
                  "html": null
                },
                {
                  "id": "sl_wTIMSs",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void ignoreIfUseless() { boolean b = randomBoolean(); assertThat(b).isTrue(); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-46.png",
                  "html": null
                },
                {
                  "id": "sl_Yn1ALH",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void ignoreIfUseless() { boolean b = randomBoolean(); assumeTrue(b); assertThat(b).isTrue(); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-47.jpg",
                  "html": null
                },
                {
                  "id": "sl_B6jyDg",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void ignoreIfUseless() { boolean b = randomBoolean(); assumeTrue(b); assertThat(b).isTrue(); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-48.jpg",
                  "html": null
                },
                {
                  "id": "sl_nQSm65",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Do less during the day @Test @Nightly public void longRunningTest() { int bulkSize = randomIntBetween(500, 1000); for (int i = 0; i &lt; bulkSize; i++) { try { Thread.sleep(Math.abs(between(100, 10000))); } catch (InterruptedException e) { assumeNoException(e); } } } $ mvn test IGNOR/A 0.00s | RandomTest.longRunningTest &gt; Assumption #1: ‚Äònightly‚Äô test group is disabled (@Nightly(value=))</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-49.png",
                  "html": null
                },
                {
                  "id": "sl_PkBZyU",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Do more during the night &lt;systemProperties combine.children=‚Äùappend‚Äù&gt; &lt;arg.common&gt;arg.common&lt;/arg.common&gt; &lt;tests.nightly&gt;${tests.nightly}&lt;/tests.nightly&gt; &lt;/systemProperties&gt; $ mvn test -Dtests.nightly=true Started J0 PID(26908@MacBook-Pro-4.local). Suite: fr.pilato.demo.testframework.RandomTest HEARTBEAT J0 PID(26908@MacBook-Pro-4.local): 2016-03-10T18:04:19, RandomTest.longRunningTest HEARTBEAT J0 PID(26908@MacBook-Pro-4.local): 2016-03-10T18:04:29, RandomTest.longRunningTest HEARTBEAT J0 PID(26908@MacBook-Pro-4.local): 2016-03-10T18:04:39, RandomTest.longRunningTest HEARTBEAT J0 PID(26908@MacBook-Pro-4.local): 2016-03-10T18:04:49, RandomTest.longRunningTest OK 50.9s | RandomTest.longRunningTest\nstalled for 11.5s at: stalled for 21.5s at: stalled for 31.5s at: stalled for 41.5s at:</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-50.png",
                  "html": null
                },
                {
                  "id": "sl_23uNqt",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Do more during the night but stay reasonable @Test @Nightly @Timeout(millis = 10000) public void longRunningTest() { // ‚Ä¶ } $ mvn test -Dtests.nightly=true ERROR 10.0s | RandomTest.longRunningTest &lt;&lt;&lt; &gt; Throwable #1: java.lang.Exception: Test timeout exceeded (&gt;= 10000 msec). &gt; at __randomizedtesting.SeedInfo.seed([F4FC818C113EF9C6:A3FC90C16C6643D6]:0)</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-51.png",
                  "html": null
                },
                {
                  "id": "sl_eNdBjI",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@RunWith(RandomizedRunner.class) public class RandomTest { @Test public void stopYourThreads() { new Thread(() -&gt; { public void run() { while (true) { try { Thread.sleep(1000L); } catch (InterruptedException e) { } } } }, ‚Äúzombie‚Äù).start(); } }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-52.jpg",
                  "html": null
                },
                {
                  "id": "sl_GhLzbh",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@RunWith(RandomizedRunner.class) public class RandomTest { @Test public void stopYourThreads() { new Thread(() -&gt; { public void run() { while (true) { try { Thread.sleep(1000L); } catch (InterruptedException e) { } } } }, ‚Äúzombie‚Äù).start(); } } com.carrotsearch.randomizedtesting.ThreadLeakError: 1 thread leaked from SUITE scope at fr.pilato.demo.testframework.RandomTest: 1) Thread[id=12, name=zombie, state=TIMED_WAITING, group=TGRP-RandomTest] at java.lang.Thread.sleep(Native Method) at fr.pilato.demo.testframework.RandomTest$1.run(RandomTest.java:180) at java.lang.Thread.run(Thread.java:745) at __randomizedtesting.SeedInfo.seed([1CD01D6C55CD93C0]:0)</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-53.jpg",
                  "html": null
                },
                {
                  "id": "sl_t14nU6",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@RunWith(RandomizedRunner.class) @ThreadLeakFilters(filters = { FriendlyZombieFilter.class }) public class RandomTest { @Test public void identifyYourThreads() { new Thread(() -&gt; { public void run() { while (true) { try { Thread.sleep(1000L); } catch (InterruptedException e) { } } } }, ‚Äúfriendly-zombie‚Äù).start(); } } public class FriendlyZombieFilter implements ThreadFilter { public boolean reject(Thread t) { return ‚Äúfriendly-zombie‚Äù.equals(t.getName()); } }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-54.jpg",
                  "html": null
                },
                {
                  "id": "sl_VKnbMV",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Random execution order</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-55.jpg",
                  "html": null
                },
                {
                  "id": "sl_7eWPEu",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>06\nBack to the bug</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-56.png",
                  "html": null
                },
                {
                  "id": "sl_jyFD7J",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test public void settingsValidation() { FsSettings settings = FsSettingsLoader.load(); settings.getElasticsearch().setIndex(getCurrentTestName()); // ‚Ä¶ }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-57.jpg",
                  "html": null
                },
                {
                  "id": "sl_MHy0zi",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>https://github.com/gestalt-config/gestalt/issues/242</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-58.jpg",
                  "html": null
                },
                {
                  "id": "sl_ybgos7",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>https://github.com/gestalt-config/gestalt/issues/242</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-59.jpg",
                  "html": null
                },
                {
                  "id": "sl_avPckW",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>@Test(expected = NullPointerException.class) @Seed(‚Äú489581FE40712E4A‚Äù) public void testGestalt242() throws Exception { FsSettings settings = FsSettingsLoader.load(); // This is supposed to fail because of: // https://github.com/gestalt-config/gestalt/issues/242 settings.getElasticsearch().setIndex(getCurrentTestName()); fail(‚ÄúThe Gestalt project probably fixed issue 242‚Äù); }</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-60.png",
                  "html": null
                },
                {
                  "id": "sl_DF8Qcv",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>07\nLimitations</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-61.png",
                  "html": null
                },
                {
                  "id": "sl_pYrEVK",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-62.jpg",
                  "html": null
                },
                {
                  "id": "sl_Rsa2Nj",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": ""
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-63.jpg",
                  "html": null
                },
                {
                  "id": "sl_4CIqG8",
                  "type": "image",
                  "title": "",
                  "desc": {
                    "html": "<p>Thanks! s\ne lid\nDo you have any questions?\nS\nDavid Pilato linkedin.com/in/dadoonet/\nhttps://speaker.pilato.fr/6DyIt6</p>\n"
                  },
                  "image": "https://on.notist.cloud/slides/deck15734/large-64.jpg",
                  "html": null
                }
              ]
            }
          ]
        },
        "download": "https://on.notist.cloud/pdf/deck-d983a0cd31125cbf.pdf",
        "resources": {
          "data": [
            {
              "title": "TestMu Conference 2025",
              "url": "https://www.lambdatest.com/testmuconf-2025/david-pilato",
              "desc": {
                "html": "<p>The conference website</p>\n"
              }
            },
            {
              "title": "Demo project",
              "url": "https://github.com/dadoonet/randomizedtesting-demo",
              "desc": {
                "html": "<p>The source code for the demo project</p>\n"
              }
            },
            {
              "title": "RandomizedTesting framework",
              "url": "http://labs.carrotsearch.com/randomizedtesting-concept.html",
              "desc": {
                "html": "<p>The framework provided by Carrot Search</p>\n"
              }
            },
            {
              "title": "A weird CI error in FSCrawler",
              "url": "https://github.com/dadoonet/fscrawler/actions/runs/14357866984/job/40251514398#step:4:296",
              "desc": {
                "html": "<p>The error I could not reproduce locally</p>\n"
              }
            },
            {
              "title": "Gestalt issue 242",
              "url": "https://github.com/gestalt-config/gestalt/issues/242",
              "desc": {
                "html": "<p>The issue I opened after my findings</p>\n"
              }
            }
          ]
        }
      },
      "relationships": {
        "data": [
          {
            "type": "events",
            "id": "ev_lKiTCi",
            "attributes": {
              "title": "TestŒº Conf‚Äô25",
              "slug": "testm-conf25",
              "starts_on": "2025-08-19 08:00:00",
              "ends_on": "2025-08-21 18:00:00",
              "timezone": "GMT",
              "address": "Virtual",
              "latitude": null,
              "longitude": null,
              "country_code": null,
              "url": "https://www.lambdatest.com/testmuconf-2025/david-pilato"
            },
            "links": {
              "self": "https://noti.st/events/lKiTCi/testm-conf25",
              "related": "https://noti.st/events/lKiTCi.json"
            }
          }
        ]
      },
      "links": {
        "self": "https://speaker.pilato.fr/6DyIt6/randomized-testing-gotta-catch-em-all"
      }
    }
  ]
}