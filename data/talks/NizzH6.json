{"data":[{"type":"presentations","id":"pr_NizzH6","attributes":{"title":"Search: a new era","slug":"search-a-new-era","blurb":{"html":"<p>Search is not just traditional TF\/IDF any more but the current trend of machine learning and models has opened another dimension for search.<\/p>\n<p>This talk gives an overview of:<\/p>\n<ul>\n<li>\u201cClassic\u201d search and its limitations<\/li>\n<li>What is a model and how can you use it<\/li>\n<li>How to use vector search or hybrid search in Elasticsearch<\/li>\n<li>Where OpenAI\u2019s ChatGPT or similar LLMs come into play to with Elastic<\/li>\n<\/ul>\n<p>This talk covers the state of the art in terms of search nowadays: BM25, Vector search, Embeddings, Hybrid Search, Reciprocal Rank Fusion, and OpenAI integration. The main demo covers how to generate embeddings from a piece of music and then use the techniques we learned to propose the most probable version of it when we hum a song.<\/p>\n"},"slidedeck":{"data":[{"id":"sd_12842","type":"images","slides":[{"id":"sl_4tH78w","type":"image","title":null,"desc":{"html":"<p>Search &amp; AI\ue092 a new era David Pilato | @dadoonet<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-0.jpg","html":null},{"id":"sl_hCzv1L","type":"image","title":null,"desc":{"html":"<p>Agenda \u25cf \u25cf \u25cf \u25cf\n\u201cClassic\u201d search and its limitations ML model and usage Vector search or hybrid search in Elasticsearch OpenAI\u2019s ChatGPT or LLMs with Elasticsearch<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-1.jpg","html":null},{"id":"sl_JWiitk","type":"image","title":null,"desc":{"html":"<p>Elasticsearch You Know, for Search<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-2.jpg","html":null},{"id":"sl_vqRWm9","type":"image","title":null,"desc":{"html":""},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-3.jpg","html":null},{"id":"sl_YAAKeY","type":"image","title":null,"desc":{"html":""},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-4.jpg","html":null},{"id":"sl_ATt8Wx","type":"image","title":null,"desc":{"html":"<p>These are not the droids you are looking for.<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-5.jpg","html":null},{"id":"sl_mnbwPM","type":"image","title":null,"desc":{"html":"<p>GET \/_analyze { \u201cchar_filter\u201d: [ \u201chtml_strip\u201d ], \u201ctokenizer\u201d: \u201cstandard\u201d, \u201cfilter\u201d: [ \u201clowercase\u201d, \u201cstop\u201d, \u201csnowball\u201d ], \u201ctext\u201d: \u201cThese are &lt;em&gt;not&lt;\/em&gt; the droids you are looking for.\u201d }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-6.png","html":null},{"id":"sl_P7KkHl","type":"image","title":null,"desc":{"html":"<p>These are &lt;em&gt;not&lt;\/em&gt; the droids you are looking for. { \u201ctokens\u201d: [{ \u201ctoken\u201d: \u201cdroid\u201d, \u201cstart_offset\u201d: 27, \u201cend_offset\u201d: 33, \u201ctype\u201d: \u201c&lt;ALPHANUM&gt;\u201d, \u201cposition\u201d: 4 },{ \u201ctoken\u201d: \u201cyou\u201d, \u201cstart_offset\u201d: 34, \u201cend_offset\u201d: 37, \u201ctype\u201d: \u201c&lt;ALPHANUM&gt;\u201d, \u201cposition\u201d: 5 }, { \u201ctoken\u201d: \u201clook\u201d, \u201cstart_offset\u201d: 42, \u201cend_offset\u201d: 49, \u201ctype\u201d: \u201c&lt;ALPHANUM&gt;\u201d, \u201cposition\u201d: 7 }]}<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-7.png","html":null},{"id":"sl_1R3YAA","type":"image","title":null,"desc":{"html":"<p>Semantic search \u2260 Literal matches<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-8.jpg","html":null},{"id":"sl_dkmM2Z","type":"image","title":null,"desc":{"html":"<p>TODAY\nX-wing starfighter squadron\nTOMORROW\nWhat ships and crews do I need to destroy an almost finished death star? Or is there a secret weakness?<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-9.jpg","html":null},{"id":"sl_G4V9uy","type":"image","title":null,"desc":{"html":"<p>Elasticsearch You Know, for Vector Search<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-10.jpg","html":null},{"id":"sl_sODxnN","type":"image","title":null,"desc":{"html":"<p>What is a Vector ?<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-11.jpg","html":null},{"id":"sl_Uhwlfm","type":"image","title":null,"desc":{"html":"<p>Embeddings represent your data Example: 1-dimensional vector\nCharacter\nVector\n[ \ue0881 \ue084 Realistic\nCartoon\n\ue0831\ue084<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-12.jpg","html":null},{"id":"sl_71fZYB","type":"image","title":null,"desc":{"html":"<p>Multiple dimensions\nrepresent different data aspects Human\nCharacter\nVector\n[ \ue0881, 1 \ue084 Realistic\nCartoon\nMachine\n\ue083 1, 0 \ue084<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-13.jpg","html":null},{"id":"sl_jLONQa","type":"image","title":null,"desc":{"html":"<p>Similar data\nis grouped together Human\nCharacter\nVector\n[ \ue0881.0, 1.0 \ue084 Realistic\nCartoon\n\ue083 1.0, 0.0 \ue084 [ \ue0881.0, 0.8 \ue084\nMachine<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-14.jpg","html":null},{"id":"sl_Lf7BIz","type":"image","title":null,"desc":{"html":"<p>Similar data\nis grouped together Human\nCharacter\nVector\n[ \ue0881.0, 1.0 \ue084 Realistic\nCartoon\n\ue083 1.0, 0.0 \ue084 [ \ue0881.0, 0.8 \ue084\nMachine<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-15.jpg","html":null},{"id":"sl_xypzBO","type":"image","title":null,"desc":{"html":"<p>Vector search ranks objects\nby similarity (~relevance) to the query Human\nRank\nQuery 1 Realistic\nCartoon\n2 3 4 5\nMachine\nResult<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-16.jpg","html":null},{"id":"sl_aIYn3n","type":"image","title":null,"desc":{"html":"<p>Choice of Embedding Model Start with Off-the Shelf Models\nExtend to Higher Relevance\n\u25cfText data: Hugging Face (like Microsoft\u2019s E5\ue082\n\u25cfApply hybrid scoring\n\u25cfImages: OpenAI\u2019s CLIP\n\u25cfBring Your Own Model: requires expertise + labeled data<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-17.jpg","html":null},{"id":"sl_CcHawC","type":"image","title":null,"desc":{"html":"<p>Problem\ntraining vs actual use-case<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-18.jpg","html":null},{"id":"sl_ow0Oob","type":"image","title":null,"desc":{"html":"<p>Architecture of Vector Search<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-19.jpg","html":null},{"id":"sl_RFjCh0","type":"image","title":null,"desc":{"html":"<p>How do you index vectors ?<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-20.jpg","html":null},{"id":"sl_3ZS0ZP","type":"image","title":null,"desc":{"html":"<p>Data Ingestion and Embedding Generation POST \/_doc\n{\n}\nSource data\n\u201c_id\u201d:\u201dproduct-1234\u201d, \u201cproduct_name\u201d:\u201dSummer Dress\u201d, \u201cdescription\u201d:\u201dOur best-selling\u2026\u201d, \u201cPrice\u201d: 118, \u201ccolor\u201d:\u201dblue\u201d, \u201cfabric\u201d:\u201dcotton\u201d<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-21.jpg","html":null},{"id":"sl_ftAoRo","type":"image","title":null,"desc":{"html":"<p>Data Ingestion and Embedding Generation {\n}\nSource data\nPOST \/_doc\n\u201c_id\u201d:\u201dproduct-1234\u201d, \u201cproduct_name\u201d:\u201dSummer Dress\u201d, \u201cdescription\u201d:\u201dOur best-selling\u2026\u201d, \u201cPrice\u201d: 118, \u201ccolor\u201d:\u201dblue\u201d, \u201cfabric\u201d:\u201dcotton\u201d, \u201cdesc_embedding\u201d:[0.452,0.3242,\u2026], \u201cimg_embedding\u201d:[0.012,0.0,\u2026]<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-22.jpg","html":null},{"id":"sl_ICtcKD","type":"image","title":null,"desc":{"html":"<p>Co m m er ci\nWith Elastic ML\nal\n{\n}\nSource data\nPOST \/_doc\n\u201c_id\u201d:\u201dproduct-1234\u201d, \u201cproduct_name\u201d:\u201dSummer Dress\u201d, \u201cdescription\u201d:\u201dOur best-selling\u2026\u201d, \u201cPrice\u201d: 118, \u201ccolor\u201d:\u201dblue\u201d, \u201cfabric\u201d:\u201dcotton\u201d, \u201cdesc_embedding\u201d:[0.452,0.3242,\u2026]<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-23.jpg","html":null},{"id":"sl_uWcQCc","type":"image","title":null,"desc":{"html":"<p>Eland Imports PyTorch Models\nCo m m er ci\nal\n$ eland_import_hub_model \u2014url https:\/\/cluster_URL \u2014hubmodel-id BERT-MiniLM-L6 \u2014tasktype text_embedding \u2014start\nBERT-MiniLM-L6\nSelect the appropriate model\nLoad it\nManage models<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-24.jpg","html":null},{"id":"sl_WqLE51","type":"image","title":null,"desc":{"html":"<p>Elastic\u2019s range of supported NLP models\nCo m m er ci\n\u25cf Fill mask model Mask some of the words in a sentence and predict words that replace masks \u25cf Named entity recognition model NLP method that extracts information from text \u25cf Text embedding model Represent individual words as numerical vectors in a predefined vector space \u25cf Text classification model Assign a set of predefined categories to open-ended text \u25cf Question answering model Model that can answer questions given some or no context \u25cf Zero-shot text classification model Model trained on a set of labeled examples, that is able to classify previously unseen examples\nFull list at: ela.st\/nlp-supported-models\nal<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-25.jpg","html":null},{"id":"sl_9A41xQ","type":"image","title":null,"desc":{"html":"<p>How do you search vectors ?<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-26.jpg","html":null},{"id":"sl_lTmppp","type":"image","title":null,"desc":{"html":"<p>Vector Query\nGET product-catalog\/_search { \u201cquery\u201d : { \u201cbool\u201d: { \u201cmust\u201d: [{ \u201cknn\u201d: { \u201cfield\u201d: \u201cdesc_embbeding\u201d, \u201cnum_candidates\u201d: 50, \u201cquery_vector\u201d: [0.123, 0.244,\u2026]\n} }], \u201cfilter\u201d: { \u201cterm\u201d: { \u201cdepartment\u201d: \u201cwomen\u201d } }\n}\n} }, \u201csize\u201d: 10<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-27.jpg","html":null},{"id":"sl_NnVdiE","type":"image","title":null,"desc":{"html":"<p>Vector Query\nTransformer model\nCo m m er ci\nal\nGET product-catalog\/_search { \u201cquery\u201d : { \u201cbool\u201d: { \u201cmust\u201d: [{ \u201cknn\u201d: { \u201cfield\u201d: \u201cdesc_embbeding\u201d, \u201cnum_candidates\u201d: 50, \u201cquery_vector_builder\u201d: { \u201ctext_embedding\u201d: { \u201cmodel_text\u201d: \u201csummer clothes\u201d, \u201cmodel_id\u201d: &lt;text-embedding-model&gt; } } } }], \u201cfilter\u201d: { \u201cterm\u201d: { \u201cdepartment\u201d: \u201cwomen\u201d } } } }, \u201csize\u201d: 10 }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-28.jpg","html":null},{"id":"sl_07ERad","type":"image","title":null,"desc":{"html":"<p>Vector Search components\nSearch\nIndex\nGenerate\nQuery\nMapping\nEmbedding\ndense_vector\nText embedding model\nkNN\n\ue0813rd party, local, in Elasticsearch)<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-29.jpg","html":null},{"id":"sl_cQxFT2","type":"image","title":null,"desc":{"html":"<p>But how does it really work?<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-30.jpg","html":null},{"id":"sl_Ekg3LR","type":"image","title":null,"desc":{"html":"<p>Similarity: cosine (cosine)\nHuman\nq\ncos(\u03b8) =\nd1 d2 Realistic\n\u03b8\nq\u20d7 \u00d7 d \u20d7\n| q\u20d7 | \u00d7 | d |\u20d7\n_score =\n1 + cos(\u03b8) 2<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-31.jpg","html":null},{"id":"sl_r4OrDq","type":"image","title":null,"desc":{"html":"<p>Similarity: cosine (cosine)\n1+1 _score = =1 2\n1+0 _score = = 0.5 2\n1\u22121 _score = =0 2<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-32.jpg","html":null},{"id":"sl_TO7f6F","type":"image","title":null,"desc":{"html":"<p>Similarity: Dot Product (dot_product)\nq\nd\nq\u20d7 \u00d7 d \u20d7 = | q\u20d7 | \u00d7 cos(\u03b8) \u00d7 | d |\u20d7\n\u03b8 | q\u20d7 |\n\u00d7 co\ns (\u03b8 )\n1 + dot_ product(q, d) <em>scorefloat = 2 0.5 + dot<\/em> product(q, d) _scorebyte = 32768 \u00d7 dims<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-33.jpg","html":null},{"id":"sl_5hqSye","type":"image","title":null,"desc":{"html":"<p>Similarity: Euclidean distance (l2_norm) y\n2\nn\ni (x \u2211 1 i=\n\u2212\ny i)\nq\nl2_normq,d =\ny1\nd\nx1\ny2\nx2\nn\n\u2211 i=1\n(xi \u2212 yi)\n1 _score = 1 + (l2_normq,d )2 x\n2<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-34.jpg","html":null},{"id":"sl_i1ZGr3","type":"image","title":null,"desc":{"html":"<p>Brute Force<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-35.jpg","html":null},{"id":"sl_KLI4jS","type":"image","title":null,"desc":{"html":"<p>Hierarchical Navigable Small Worlds (HNSW\ue082 One popular approach\nHNSW: a layered approach that simplifies access to the nearest neighbor Tiered: from coarse to fine approximation over a few steps Balance: Bartering a little accuracy for a lot of scalability Speed: Excellent query latency on large scale indices<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-36.jpg","html":null},{"id":"sl_wf0sbr","type":"image","title":null,"desc":{"html":"<p>Filtering KNN Vector Similarity\nAutomatically choose between brute force and HNSW\nBrute force (not real numbers; used only to demonstrate the linearity)\nHNSW\nBound worst case to 2*(brute force) \u2022 Brute force scales O(n) of filtered \u2022 HNSW scales ~O(log(n)) of all docs<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-37.jpg","html":null},{"id":"sl_YyjgUG","type":"image","title":null,"desc":{"html":"<p>Elasticsearch + Lucene = fast progress \u2764<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-38.jpg","html":null},{"id":"sl_BISUMf","type":"image","title":null,"desc":{"html":"<p>Scaling Vector Search Vector search\nBest practices<\/p>\n<ol>\n<li>Needs lots of memory<\/li>\n<li>Avoid searches during indexing<\/li>\n<li>Indexing is slower<\/li>\n<li>Exclude vectors from _source<\/li>\n<li>Merging is slow<\/li>\n<li>Reduce vector dimensionality 4. Use byte rather than float<\/li>\n<\/ol>\n<ul>\n<li>Continuous improvements in Lucene + Elasticsearch<\/li>\n<\/ul>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-39.png","html":null},{"id":"sl_ncBIF4","type":"image","title":null,"desc":{"html":"<p>Reduce Required Memory\n2. Reduce of number of dimensions per vector<\/p>\n<ol>\n<li>Vector element size reduction (\u201cquantize\u201d)<\/li>\n<\/ol>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-40.jpg","html":null},{"id":"sl_Pvu67T","type":"image","title":null,"desc":{"html":"<p>Benchmarketing<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-41.jpg","html":null},{"id":"sl_2Fctzs","type":"image","title":null,"desc":{"html":"<p>https:\/\/github.com\/erikbern\/ann-benchmarks<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-42.jpg","html":null},{"id":"sl_eZLhsH","type":"image","title":null,"desc":{"html":"<p>Elasticsearch You Know, for Hybrid Search<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-43.jpg","html":null},{"id":"sl_Gt4Vkg","type":"image","title":null,"desc":{"html":"<p>Hybrid scoring Term-based score\nLinear Combination manual boosting\nVector similarity score\nCombine<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-44.jpg","html":null},{"id":"sl_tCnJd5","type":"image","title":null,"desc":{"html":"<p>GET product-catalog\/_search { \u201cquery\u201d : { \u201cbool\u201d : { \u201cmust\u201d : [{ \u201cmatch\u201d: { \u201cdescription\u201d: { \u201cquery\u201d: \u201csummer clothes\u201d, \u201cboost\u201d: 0.9 } } },{ \u201cknn\u201d: { \u201cfield\u201d: \u201cdesc_embbeding\u201d, \u201cquery_vector\u201d: [0.123, 0.244,\u2026], \u201cnum_candidates\u201d: 50, \u201cboost\u201d: 0.1, \u201cfilter\u201d: { \u201cterm\u201d: { \u201cdepartment\u201d: \u201cwomen\u201d } } } }], \u201cfilter\u201d : { \u201crange\u201d : { \u201cprice\u201d: { \u201clte\u201d: 30 } } } } } }\nsummer clothes\npre-filter\npost-filter<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-45.png","html":null},{"id":"sl_VWW7VU","type":"image","title":null,"desc":{"html":"<p>GET product-catalog\/_search { \u201cquery\u201d : { \u201cbool\u201d : { \u201cmust\u201d : [{ \u201cmatch\u201d: { \u201cdescription\u201d: { \u201cquery\u201d: \u201csummer clothes\u201d, \u201cboost\u201d: 0.9 } } },{ \u201cknn\u201d: { \u201cfield\u201d: \u201cimage-vector\u201d, \u201cquery_vector\u201d: [54, 10, -2], \u201cnum_candidates\u201d: 50, \u201cboost\u201d: 0.1 } },{ \u201cknn\u201d: { \u201cfield\u201d: \u201ctitle-vector\u201d, \u201cquery_vector\u201d: [1, 20, -52, 23, 10], \u201cnum_candidates\u201d: 10, \u201cboost\u201d: 0.5 } }] } } }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-46.png","html":null},{"id":"sl_7qEvNt","type":"image","title":null,"desc":{"html":"<p>ELSER\nElastic Learned Sparse EncodER\ntext_expansion Not BM25 or (dense) vector Sparse vector like BM25 Stored as inverted index\nCo m m er ci\nal<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-47.jpg","html":null},{"id":"sl_k9xjGI","type":"image","title":null,"desc":{"html":"<p>PUT \/_inference\/sparse_embedding\/my_elser_model { \u201cservice\u201d: \u201celser\u201d, \u201cservice_settings\u201d: { \u201cnum_allocations\u201d: 1, \u201cnum_threads\u201d: 1 }, \u201ctask_settings\u201d: {} } PUT \/_inference\/text_embedding\/openai_embeddings { \u201cservice\u201d: \u201copenai\u201d, \u201cservice_settings\u201d: { \u201capi_key\u201d: \u201c&lt;api_key&gt;\u201d }, \u201ctask_settings\u201d: { \u201cmodel\u201d: \u201ctext-embedding-ada-002\u201d } } PUT \/_inference\/text_embedding\/hugging_face_embeddings { \u201cservice\u201d: \u201chugging_face\u201d, \u201cservice_settings\u201d: { \u201capi_key\u201d: \u201c&lt;access_token&gt;\u201d, \u201curl\u201d: \u201c&lt;url_endpoint&gt;\u201d } }\nCo m m er ci\nal<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-48.jpg","html":null},{"id":"sl_MTgX8h","type":"image","title":null,"desc":{"html":"<p>POST \/_inference\/sparse_embedding\/my_elser_model { \u201cinput\u201d: [ \u201cThese are not the droids you are looking for.\u201d,\n}\n]\n\u201cObi-Wan never told you what happened to your father.\u201d\n{ \u201csparse_embedding\u201d: [{ \u201clucas\u201d: 0.50047517, \u201cship\u201d: 0.29860738, \u201cdragon\u201d: 0.5300422, \u201cquest\u201d: 0.5974301, \u201cdr\u201d: 2.1055143, \u201cspace\u201d: 0.49377063, \u201crobot\u201d: 0.40398192, \u2026\nCo m m er ci\nal<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-49.png","html":null},{"id":"sl_ynPL16","type":"image","title":null,"desc":{"html":"<p>Co m m er ci\nHybrid ranking\nal\nTerm-based score\nVector similarity score\nReciprocal Rank Fusion (RRF\ue082 blend multiple ranking methods\nCombine\nELSER score<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-50.jpg","html":null},{"id":"sl_b788tV","type":"image","title":null,"desc":{"html":"<p>GET index\/_search { \u201cretriever\u201d: { \u201crrf\u201d: { \u201cretrievers\u201d: [{ \u201cstandard\u201d { \u201cquery\u201d: { \u201cmatch\u201d: {\u2026} } } },{ \u201cstandard\u201d { \u201cquery\u201d: { \u201ctext_expansion\u201d: {\u2026} } } },{ \u201cknn\u201d: { \u2026 } } ] } } }\n8. 14 Hybrid Ranking\nBM25f +\nELSER + Vector\npr ev ie w<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-51.png","html":null},{"id":"sl_DQqwlu","type":"image","title":null,"desc":{"html":"<p>Reciprocal Rank Fusion (RRF\ue082 D \ue088 set of docs R \ue088 set of rankings as permutation on 1..|D| k - typically set to 60 by default\nRanking Algorithm 1 Doc\nRanking Algorithm 2\nScore\nr(d)\nk+r(d)\nA\n1\n1\nB\n0.7\nC D E\nDoc\nScore\nr(d)\nk+r(d)\n61\nC\n1,341\n1\n61\n2\n62\nA\n739\n2\n62\n0.5\n3\n63\nF\n732\n3\n63\n0.2\n4\n64\nG\n192\n4\n64\n0.01\n5\n65\nH\n183\n5\n65\nDoc\nRRF Score\nA\n1\/61 \ue09d 1\/62 \ue09b 0,0325\nC\n1\/63 \ue09d 1\/61 \ue09b 0,0323\nB\n1\/62 \ue09b 0,0161\nF\n1\/63 \ue09b 0,0159\nD\n1\/64 \ue09b 0,0156<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-52.png","html":null},{"id":"sl_pkZkeJ","type":"image","title":null,"desc":{"html":"<p>https:\/\/djdadoo.pilato.fr\/<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-53.jpg","html":null},{"id":"sl_S4IYWi","type":"image","title":null,"desc":{"html":"<p>https:\/\/github.com\/dadoonet\/music-search\/<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-54.jpg","html":null},{"id":"sl_4O1MP7","type":"image","title":null,"desc":{"html":"<p>ChatGPT Elastic and LLM<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-55.jpg","html":null},{"id":"sl_ghkAHW","type":"image","title":null,"desc":{"html":"<p>Gen AI\nSearch engines<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-56.jpg","html":null},{"id":"sl_J1Sy9v","type":"image","title":null,"desc":{"html":"<p>LLM\ue092 opportunities and limits your question\none answer\nyour question\nGAI \/ LLM\npublic internet data<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-57.jpg","html":null},{"id":"sl_vLBm2K","type":"image","title":null,"desc":{"html":""},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-58.jpg","html":null},{"id":"sl_XeuZuj","type":"image","title":null,"desc":{"html":"<p>Retrieval Augmented Generation your question\nthe right answer\nyour question\n+\ncontext window\nGAI \/ LLM\npublic internet data\nyour business data\ndocuments\nimages\naudio<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-59.jpg","html":null},{"id":"sl_9ydNn8","type":"image","title":null,"desc":{"html":"<ol start=\"8\">\n<li>14\nDemo Elastic Playground\npr ev ie w<\/li>\n<\/ol>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-60.jpg","html":null},{"id":"sl_mIMBfX","type":"image","title":null,"desc":{"html":"<p>Conclusion<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-61.jpg","html":null},{"id":"sl_Oc4zXw","type":"image","title":null,"desc":{"html":"<p>Vector Database\nVector Database + ML\n\ue081Semantic) Search Engine\nHybrid Search (text + vector) Store &amp; Search Vector Embeddings\nChoice &amp; Flexibility of embedding models Filtering &amp; Faceting\nCreate Vector Embeddings\nAggregations Autocomplete Search Analytics\nTrained model outof-the-box Document-level Security\nOptimized for text, geo, &amp; other data\nIngest Tools (web crawler, connectors, Beats, Agent, API framework)\nOn-prem \/ Cloud \/ Hybrid<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-62.jpg","html":null},{"id":"sl_0vnnQL","type":"image","title":null,"desc":{"html":"<p>Elasticsearch You Know, for Semantic Search<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-63.jpg","html":null},{"id":"sl_dFWbIk","type":"image","title":null,"desc":{"html":"<p>Search &amp; AI\ue092 a new era David Pilato | @dadoonet<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck12842\/large-64.jpg","html":null}]}]},"download":"https:\/\/on.notist.cloud\/pdf\/deck-2259bb7965b13218.pdf","resources":{"data":[{"title":"Event Page","url":"https:\/\/jprime.io\/","desc":{"html":""}},{"title":"Music Search demo code","url":"https:\/\/github.com\/dadoonet\/music-search","desc":{"html":""}}]}},"relationships":{"data":[{"type":"events","id":"ev_xcLCsV","attributes":{"title":"jPrime 2024","slug":"jprime-2024","starts_on":"2024-05-28 08:00:00","ends_on":"2024-05-29 18:00:00","timezone":"Europe\/Sofia","address":"Sofia, Bulgaria","latitude":"42.697708","longitude":"23.321868","country_code":"BG","url":null},"links":{"self":"https:\/\/noti.st\/events\/xcLCsV\/jprime-2024","related":"https:\/\/noti.st\/events\/xcLCsV.json"}}]},"links":{"self":"https:\/\/speaker.pilato.fr\/NizzH6\/search-a-new-era"}}]}