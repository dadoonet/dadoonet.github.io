{"data":[{"type":"presentations","id":"pr_ASbj3g","attributes":{"title":"Elasticsearch Query Language: ES|QL","slug":"elasticsearch-query-language-es-ql","blurb":{"html":"<p>Dans cette session sans slides, nous d\u00e9couvrirons par la pratique ce qu\u2019apporte le nouveau language <code>ES|QL<\/code> pour aller fouiller dans nos donn\u00e9es index\u00e9es dans Elasticsearch et ce, de fa\u00e7on interactive et visuelle.<\/p>\n<p><code>ES|QL<\/code> et surtout le nouveau moteur derri\u00e8re l\u2019API <code>_query<\/code> apportent \u00e0 la fois une syntaxe simplifi\u00e9e permettant d\u2019affiner vos r\u00e9sultats, \u00e9tape par \u00e9tape et ajouter de nouvelles fonctionnalit\u00e9s comme par exemple l\u2019enrichissement de donn\u00e9es et la transformation \u00e0 la vol\u00e9e, directement dans votre requ\u00eate, mais \u00e9galement des performances in\u00e9gal\u00e9es.<\/p>\n"},"slidedeck":{"data":[{"id":"sd_14654","type":"images","slides":[{"id":"sl_EAVvOz","type":"image","title":null,"desc":{"html":"<p>Elasticsearch Query Language ES|QL\no\ns\ne d li\nDavid Pilato - @dadoonet Developer | Evangelist\n&amp; s\nm e d<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-0.jpg","html":null},{"id":"sl_qUEjHO","type":"image","title":null,"desc":{"html":"<p>Lucene Painless\nDSL\nCanvas\nKQL\nEQL\nVega\nSQL\nElastic and Kibana support a number of query languages<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-1.jpg","html":null},{"id":"sl_SnxX9n","type":"image","title":null,"desc":{"html":"<p>A brief history of Elasticsearch\u2019s analytical capabilities\n2010\n2013\n2014\n2015\n2023\nElasticsearch 0.9\nElasticsearch &lt; 0.90\nElasticsearch 1.0\nElasticsearch 2.0\nElasticsearch 8.11\nFacets\nFacet terms-stats\nAggregations\nPipeline aggregations\nES|QL<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-2.png","html":null},{"id":"sl_57gL2C","type":"image","title":null,"desc":{"html":"<p>ES|QL\n\u2022 Language \u2022 Engine \u2022 Visualization<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-3.jpg","html":null},{"id":"sl_hRP8ub","type":"image","title":null,"desc":{"html":"<p>ES|QL the language<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-4.jpg","html":null},{"id":"sl_Jl7wn0","type":"image","title":null,"desc":{"html":"<p>ES|QL Features \u2022 Unstructured and structured data \u2022 Piped query language \u2022 SQL-like filtering and data manipulation \u2022 Lookups<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-5.png","html":null},{"id":"sl_w4qkfP","type":"image","title":null,"desc":{"html":"<p>ES|QL commands\nSource (From, Row) Filter (Where) Processing (Eval) Aggregation (Stats) TopN Sort + Limit) Expansion (Enrich , MV_Exand)\n(\n+\n+\n+\nExtraction (Dissect, Grok)\n75 functions: \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022\n10 aggregate 20 math 10 string 7 date-time 15 conversion 4 conditionals 12 multi-value \/ mv_<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-6.jpg","html":null},{"id":"sl_YOZYXo","type":"image","title":null,"desc":{"html":"<p>ES|QL the engine<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-7.jpg","html":null},{"id":"sl_AiIMQD","type":"image","title":null,"desc":{"html":"<p>The new ES|QL execution engine was designed with performance in mind \u2014 it operates on blocks at a time instead of per row, targets vectorization and cache locality, and embraces specialization and multi-threading. It is a separate component from the existing Elasticsearch aggregation framework with different performance characteristics.<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-8.png","html":null},{"id":"sl_n21AIc","type":"image","title":null,"desc":{"html":"<p>Query planner \u2713 Flexible distributed execution \u2713 Allow multiple roundtrips ES|QL Query\nParsing\nUnresolved AST\nResolved\/Logical Plan\nAnalysis\nOptimized Plan\nPlanning\nPhysical Plan\nLocal Replanning\nExecution\nResults<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-9.png","html":null},{"id":"sl_PLjyB1","type":"image","title":null,"desc":{"html":"<p>Compute engine \u2713 Tabular data representation \u2713 From 1 thread per shard to many \u2713 Spilling to disk if needed \u2713 Streaming of data across nodes<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-10.png","html":null},{"id":"sl_1fSm3Q","type":"image","title":null,"desc":{"html":"<p>Vectorization \u201cconvert from a scalar implementation, which processes a single pair of operands at a time, to a vector implementation, which processes one operation on multiple pairs of operands at once. \u201c for (i = 0; i &lt; n; i++) c[i] = a[i] + b[i];\nhttps:\/\/en.wikipedia.org\/wiki\/Automatic_vectorization<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-11.jpg","html":null},{"id":"sl_dzBZvp","type":"image","title":null,"desc":{"html":"<p>Benchmarks https:\/\/elasticsearch-benchmarks.elastic.co\/#tracks\/esql\/nightly\/default\/30d<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-12.jpg","html":null},{"id":"sl_GIuNoE","type":"image","title":null,"desc":{"html":"<p>o\ne d li\nES|QL in action https:\/\/github.com\/dadoonet\/esql-demo\ns\n&amp; s\nm e d<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-13.jpg","html":null},{"id":"sl_scdBgd","type":"image","title":null,"desc":{"html":"<p>PROJECTIONS\nEach language client will offer a selection of projections relevant to that language ecosystem.\nRESULT DATA\nWays to consume ES|QL results\nUsers can consume raw data directly from the server output in one of several formats.\nDataFrame\nObject \/ Dict\nCursor\nFor mapping domain objects within a client application\nFor incremental consumption of results, with implicit pagination\nFor data science and analytics; integration with frameworks like Pandas\nText\nCSV\nJSON\nHuman-readable format ideal for interactive work, CLIs, etc\nRaw CSV data to load directly into spreadsheets and ETL processes\nStructured response containing metadata and data in a 2D value array\nBring your own Custom projections built atop raw server output\nApache Arrow Dataframe IPC format<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-14.jpg","html":null},{"id":"sl_UwLzZ2","type":"image","title":null,"desc":{"html":"<p>Object API https:\/\/github.com\/dadoonet\/elasticsearch-java-client-demo String query = \u201c\u201d\u201d FROM persons | WHERE name == \u201cDavid\u201d | KEEP name | LIMIT 1 \u201c\u201d\u201c; Iterable&lt;Person&gt; persons = client.esql() .query(ObjectsEsqlAdapter.of(Person.class), query); for (Person person : persons) { assertNull(person.getId()); assertNotNull(person.getName()); }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-15.png","html":null},{"id":"sl_7G4nRR","type":"image","title":null,"desc":{"html":"<p>ResultSet JDBC API https:\/\/github.com\/dadoonet\/elasticsearch-java-client-demo String query = \u201c\u201d\u201d FROM persons | WHERE name == \u201cDavid\u201d | KEEP name | LIMIT 1 \u201c\u201d\u201c; try (ResultSet resultSet = client.esql() .query(ResultSetEsqlAdapter.INSTANCE, query)) { assertTrue(resultSet.next()); assertEquals(\u201cDavid\u201d, resultSet.getString(1)); }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-16.png","html":null},{"id":"sl_jZnbJq","type":"image","title":null,"desc":{"html":"<p>POST \/_query { \u201cquery\u201d: \u201c\u201d\u201d from logs-* | stats x = ?function(?field) by ?breakdownField | where x &gt;= ?value \u201c\u201d\u201c,\nNamed parameters\n\u201cparams\u201d: [ {\u201cfunction\u201d : {\u201cidentifier\u201d : \u201cavg\u201d}}, {\u201cfield\u201d : {\u201cidentifier\u201d : \u201cnetwork.bytes\u201d}}, {\u201cbreakdownField\u201d : {\u201cidentifier\u201d : \u201cagent.name\u201d}}, {\u201cvalue\u201d: 1000} ] }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-17.jpg","html":null},{"id":"sl_LtWPCF","type":"image","title":null,"desc":{"html":"<p>Java API with named parameters https:\/\/github.com\/dadoonet\/elasticsearch-java-client-demo String query = \u201c\u201d\u201d FROM persons | WHERE name == ?name | KEEP name | LIMIT 1 \u201c\u201d\u201c; Iterable&lt;Person&gt; persons = client.esql() .query(ObjectsEsqlAdapter.of(Person.class), query, Map.of(\u201cname\u201d, \u201cDavid\u201d)); for (Person person : persons) { assertNull(person.getId()); assertNotNull(person.getName()); }<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-18.png","html":null},{"id":"sl_yDFD4e","type":"image","title":null,"desc":{"html":"<ol start=\"8\">\n<li>18\nComing next\nWHERE KQL(\u201cbytes&gt;=1024\u201d)<\/li>\n<\/ol>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-19.jpg","html":null},{"id":"sl_aWy0x3","type":"image","title":null,"desc":{"html":"<p>TB joinType JOIN indexName (AS qualifier)? condition? joinType: LOOKUP | LEFT | RIGHT | INNER\nJOINS!\ncondition: ON identifier == identifier | USING identifier\nFROM person | INLINESTATS avg_children = AVG(children) | WHERE children &gt; avg_children | LIMIT 1000\nD<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-20.jpg","html":null},{"id":"sl_CqgopS","type":"image","title":null,"desc":{"html":"<p>TB\nD\nFROM search-movies METADATA _score, _id | WHERE imdbrating &gt; 7 | FORK [WHERE title:\u201dShakespeare\u201d | SORT _score DESC | LIMIT 10] \/\/ fork1 [WHERE semantic_title:\u201dShakespeare\u201d | SORT _score DESC | LIMIT 10] \/\/ fork2 [WHERE plot:\u201dShakespeare\u201d | SORT _score DESC | LIMIT 10] \/\/ fork3 [WHERE writers:\u201dShakespeare\u201d| SORT _score DESC | LIMIT 10] \/\/ fork4 | KEEP title, semantic_title, _fork, _score, imdbrating, plot, writers | DROP writers, semantic_title, plot | RRF _score | _fork | title | imdbrating \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u20140.04918032786885246 |[fork0, fork1, fork2]|Shakespeare in Love |7.199999889265137 0.031544957774465976|[fork1, fork3] |Othello |7.800000190734863 0.0315136476426799 |[fork1, fork3] |Macbeth |7.5 0.030330882352941176|[fork1, fork3] |Much Ado About Nothing |7.400088095367432 0.016129032258064516|fork3 |Julius Caesar |7.400088095367432 0.015873015873015872|fork1 |Juliet of the Spirits |7.599999984632568 0.015873015873015872|fork3 |Looking for Richard |7.400008895367432 0.015625 |fork1 |The King\u2019s Speech |8.100000381469727 0.015384615384615385|fork1 |O Brother, Where Art Thou? |7.800088190734863 0.015151515151515152|fork3 |Falstaff - Chimes at Midnight|7.900008895367432 0.014925373134328358|fork3 |Maqbool |8.300000198734863 8.014925373134328358|fork1 |Only Fools and Horses\u2026. |8.899999618530273 8.014785882352941176|fork3 |Ran |8.300000198734863 0.014492753623188406|fork1 |The Lovers on the Bridge |7.5 8.014285714285714285|fork1 |Horatio Hornblower: The Duel |8.199999809265137<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-21.png","html":null},{"id":"sl_pAPchr","type":"image","title":null,"desc":{"html":"<p>Elasticsearch Query Language ES|QL\no\ns\ne d li\nDavid Pilato - @dadoonet Developer | Evangelist\n&amp; s\nm e d<\/p>\n"},"image":"https:\/\/on.notist.cloud\/slides\/deck14654\/large-22.jpg","html":null}]}]},"download":"https:\/\/on.notist.cloud\/pdf\/deck-5e74fba3686bd904.pdf","resources":{"data":[{"title":"Event page","url":"http:\/\/www.bordeauxjug.org\/meetings\/20250320-elasticsearch_query_language:_es_ql","desc":{"html":""}},{"title":"Demo code","url":"https:\/\/github.com\/dadoonet\/esql-demo","desc":{"html":"<p>The code played during the demo<\/p>\n"}},{"title":"Playground page","url":"https:\/\/esql.demo.elastic.co","desc":{"html":"<p>If you want to try ES|QL, there\u2019s an open instance with some data.<\/p>\n"}},{"title":"ES|QL Guide","url":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/esql.html","desc":{"html":"<p>The official guide<\/p>\n"}},{"title":"Java Demo code","url":"https:\/\/github.com\/dadoonet\/elasticsearch-java-client-demo","desc":{"html":"<p>The Java demo for ES|QL<\/p>\n"}}]}},"relationships":{"data":[{"type":"events","id":"ev_kSFdn5","attributes":{"title":"Bordeaux JUG","slug":"bordeaux-jug","starts_on":"2025-03-20 08:00:00","ends_on":"2025-03-20 18:00:00","timezone":"Europe\/Paris","address":"Bordeaux, France","latitude":"44.837789","longitude":"-0.579180","country_code":"FR","url":null},"links":{"self":"https:\/\/noti.st\/events\/kSFdn5\/bordeaux-jug","related":"https:\/\/noti.st\/events\/kSFdn5.json"}}]},"links":{"self":"https:\/\/speaker.pilato.fr\/ASbj3g\/elasticsearch-query-language-es-ql"}}]}